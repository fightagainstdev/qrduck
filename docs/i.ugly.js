let q=Math.PI;function H(t){return Math.abs(t)}function n(t,i){return Math.min(t,i)}function E(t,i){return Math.max(t,i)}function Z(t){return Math.sign(t)}function D(t,i=1){return(t%i+i)%i}function U(t,i=0,e=1){return t<i?i:e<t?e:t}function I(t,i,e){return e-i?U((t-i)/(e-i)):0}function W(t,i,e){return i+U(t)*(e-i)}function F(t,i,e,s=O()){return 2*H(t.x-e.x)<i.x+s.x&&2*H(t.y-e.y)<i.y+s.y}function Q(t=1,i=0){return i+Math.random()*(t-i)}function L(t,i=0){return Math.floor(Q(t,i))}function P(t=1){return(new e).setAngle(Q(2*q),t)}function N(t=1,i=0){return 0<t?P(t*Q(i/t,1)**.5):new e}function G(t=new j,i=new j(0,0,0,1),e=!1){return e?t.lerp(i,Q()):new j(Q(t.r,i.r),Q(t.g,i.g),Q(t.b,i.b),Q(t.a,i.a))}class V{constructor(t){this.seed=t}float(t=1,i=0){return this.seed^=this.seed<<13,this.seed^=this.seed>>>17,this.seed^=this.seed<<5,i+(t-i)*H(this.seed%1e9)/1e9}int(t,i=0){return Math.floor(this.float(t,i))}sign(){return 2*this.int(2)-1}}function O(t=0,i){return"number"==typeof t?new e(t,null==i?t:i):new e(t.x,t.y)}class e{constructor(t=0,i=0){this.x=t,this.y=i}copy(){return new e(this.x,this.y)}add(t){return new e(this.x+t.x,this.y+t.y)}subtract(t){return new e(this.x-t.x,this.y-t.y)}multiply(t){return new e(this.x*t.x,this.y*t.y)}divide(t){return new e(this.x/t.x,this.y/t.y)}scale(t){return new e(this.x*t,this.y*t)}length(){return this.lengthSquared()**.5}lengthSquared(){return this.x**2+this.y**2}distance(t){return this.distanceSquared(t)**.5}distanceSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}normalize(t=1){var i=this.length();return i?this.scale(t/i):new e(0,t)}clampLength(t=1){var i=this.length();return t<i?this.scale(t/i):this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}angle(){return Math.atan2(this.x,this.y)}setAngle(t=0,i=1){return this.x=i*Math.sin(t),this.y=i*Math.cos(t),this}rotate(t){var i=Math.cos(t),t=Math.sin(t);return new e(this.x*i-this.y*t,this.x*t+this.y*i)}setDirection(t,i=1){return O(t%2?t-1?-i:i:0,t%2?0:t?-i:i)}direction(){return H(this.x)>H(this.y)?this.x<0?3:1:this.y<0?2:0}invert(){return new e(this.y,-this.x)}floor(){return new e(Math.floor(this.x),Math.floor(this.y))}area(){return H(this.x*this.y)}lerp(t,i){return this.add(t.subtract(this).scale(U(i)))}arrayCheck(t){return 0<=this.x&&0<=this.y&&this.x<t.x&&this.y<t.y}}function s(t,i,e,s){return new j(t,i,e,s)}function X(t,i,e,s){return(new j).setHSLA(t,i,e,s)}class j{constructor(t=1,i=1,e=1,s=1){this.r=t,this.g=i,this.b=e,this.a=s}copy(){return new j(this.r,this.g,this.b,this.a)}add(t){return new j(this.r+t.r,this.g+t.g,this.b+t.b,this.a+t.a)}subtract(t){return new j(this.r-t.r,this.g-t.g,this.b-t.b,this.a-t.a)}multiply(t){return new j(this.r*t.r,this.g*t.g,this.b*t.b,this.a*t.a)}divide(t){return new j(this.r/t.r,this.g/t.g,this.b/t.b,this.a/t.a)}scale(t,i=t){return new j(this.r*t,this.g*t,this.b*t,this.a*i)}clamp(){return new j(U(this.r),U(this.g),U(this.b),U(this.a))}lerp(t,i){return this.add(t.subtract(this).scale(U(i)))}setHSLA(t=0,i=0,e=1,s=1){var i=e<.5?e*(1+i):e+i-e*i,e=2*e-i,h=(t,i,e)=>(e=(e%1+1)%1)<1/6?t+6*(i-t)*e:e<.5?i:e<2/3?t+(i-t)*(2/3-e)*6:t;return this.r=h(e,i,t+1/3),this.g=h(e,i,t),this.b=h(e,i,t-1/3),this.a=s,this}HSLA(){var t,i=U(this.r),e=U(this.g),s=U(this.b),h=U(this.a),r=Math.max(i,e,s),o=Math.min(i,e,s),a=(r+o)/2;let n=0,l=0;return r!=o&&(t=r-o,l=.5<a?t/(2-r-o):t/(r+o),i==r?n=(e-s)/t+(e<s?6:0):e==r?n=(s-i)/t+2:s==r&&(n=(i-e)/t+4)),[n/6,l,a,h]}mutate(t=.05,i=0){return new j(this.r+Q(t,-t),this.g+Q(t,-t),this.b+Q(t,-t),this.a+Q(i,-i)).clamp()}toString(t=!0){var i=t=>((t=255*t|0)<16?"0":"")+t.toString(16);return"#"+i(this.r)+i(this.g)+i(this.b)+(t?i(this.a):"")}setHex(i){var t=t=>U(parseInt(i.slice(t,t+2),16)/255);return this.r=t(1),this.g=t(3),this.b=t(5),this.a=7<i.length?t(7):1,this}rgbaInt(){return(255*U(this.r)|0)+(255*U(this.g)<<8)+(255*U(this.b)<<16)+(255*U(this.a)<<24)}}let l=O(),u=32,i=O(1920,1200),K=O(),Y=!0,J=O(16),_=.1,$=!0,t0=1,i0=1,e0=1,s0=0,h0=.8,r0=1,o0=0,a0=1,n0=!0,l0=!1,c0=!0,d0=.5,u0=40,p0=.7;O(640,80);class t{constructor(t=O(),i=O(1),e,s=0,h,r=0){this.pos=t.copy(),this.size=i,this.drawSize=void 0,this.tileInfo=e,this.angle=s,this.color=h,this.additiveColor=void 0,this.mirror=!1,this.mass=t0,this.damping=i0,this.angleDamping=e0,this.elasticity=s0,this.friction=h0,this.gravityScale=1,this.renderOrder=r,this.velocity=O(),this.angleVelocity=0,this.spawnTime=w,this.children=[],this.parent=void 0,this.localPos=O(),this.localAngle=0,this.collideTiles=!1,this.collideSolidObjects=!1,this.isSolid=!1,this.clampVelocity=!0,v.push(this)}update(){var t=this.parent;if(t)this.pos=this.localPos.multiply(O(t.getMirrorSign(),1)).rotate(-t.angle).add(t.pos),this.angle=t.getMirrorSign()*this.localAngle+t.angle;else{this.clampVelocity&&(this.velocity=this.velocity.clampLength(r0));var i=this.pos.copy();if(this.velocity.y+=o0*this.gravityScale,this.pos.x+=this.velocity.x*=this.damping,this.pos.y+=this.velocity.y*=this.damping,this.angle+=this.angleVelocity*=this.angleDamping,$&&this.mass){var e,s=this.velocity.y<0;if(this.groundObject&&(t=this.groundObject.velocity?this.groundObject.velocity.x:0,this.velocity.x=t+(this.velocity.x-t)*this.friction,this.groundObject=0),this.collideSolidObjects){var h,r,o,a,n,l,c,d;for(h of q0)!this.isSolid&&!h.isSolid||h.destroyed||h.parent||h==this||F(this.pos,this.size,h.pos,h.size)&&(o=this.collideWithObject(h),r=h.collideWithObject(this),o)&&r&&(F(i,this.size,h.pos,h.size)?(o=(r=(o=i.subtract(h.pos)).length())<.01?P(.001):o.scale(.001/r),this.velocity=this.velocity.add(o),h.mass&&(h.velocity=h.velocity.subtract(o))):(r=this.size.add(h.size),o=2*(i.y-h.pos.y)>r.y+o0,a=2*H(i.y-h.pos.y)<r.y,c=2*H(i.x-h.pos.x)<r.x,n=E(this.elasticity,h.elasticity),!o&&!c&&a||(this.pos.y=h.pos.y+(r.y/2+.001)*Z(i.y-h.pos.y),h.groundObject&&s||!h.mass?(s&&(this.groundObject=h),this.velocity.y*=-n):h.mass&&(c=(this.mass*this.velocity.y+h.mass*h.velocity.y)/(this.mass+h.mass),l=this.velocity.y*(this.mass-h.mass)/(this.mass+h.mass)+2*h.velocity.y*h.mass/(this.mass+h.mass),d=h.velocity.y*(h.mass-this.mass)/(this.mass+h.mass)+2*this.velocity.y*this.mass/(this.mass+h.mass),this.velocity.y=W(n,c,l),h.velocity.y=W(n,c,d))),!o&&a&&(this.pos.x=h.pos.x+(r.x/2+.001)*Z(i.x-h.pos.x),h.mass?(l=(this.mass*this.velocity.x+h.mass*h.velocity.x)/(this.mass+h.mass),c=this.velocity.x*(this.mass-h.mass)/(this.mass+h.mass)+2*h.velocity.x*h.mass/(this.mass+h.mass),d=h.velocity.x*(h.mass-this.mass)/(this.mass+h.mass)+2*this.velocity.x*this.mass/(this.mass+h.mass),this.velocity.x=W(n,l,c),h.velocity.x=W(n,l,d)):this.velocity.x*=-n)))}this.collideTiles&&V0(this.pos,this.size,this)&&!V0(i,this.size,this)&&(t=V0(O(i.x,this.pos.y),this.size,this),e=V0(O(this.pos.x,i.y),this.size,this),!t&&e||(this.groundObject=s,this.velocity.y*=-this.elasticity,(t=(i.y-this.size.y/2|0)-(i.y-this.size.y/2))<0&&t>this.damping*this.velocity.y+o0*this.gravityScale&&(this.velocity.y=this.damping?(t-o0*this.gravityScale)/this.damping:0),this.pos.y=i.y),e)&&(this.pos.x=i.x,this.velocity.x*=-this.elasticity,this.onBlockedX)&&this.onBlockedX()}}}render(){w0(this.pos,this.drawSize||this.size,this.tileInfo,this.color,this.angle,this.mirror,this.additiveColor)}destroy(){if(!this.destroyed){this.destroyed=1,this.parent&&this.parent.removeChild(this);for(var t of this.children)t.destroy(t.parent=0)}}collideWithTile(t,i){return 0<t}collideWithTileRaycast(t,i){return 0<t}collideWithObject(t){return!0}getAliveTime(){return w-this.spawnTime}applyAcceleration(t){this.mass&&(this.velocity=this.velocity.add(t))}applyForce(t){this.applyAcceleration(t.scale(1/this.mass))}getMirrorSign(){return this.mirror?-1:1}addChild(t,i=O(),e=0){this.children.push(t),t.parent=this,t.localPos=i.copy(),t.localAngle=e}removeChild(t){this.children.splice(this.children.indexOf(t),1),t.parent=0}setCollision(t=!0,i=!0,e=!0){this.collideSolidObjects=t,this.isSolid=i,this.collideTiles=e}}let c,p,d,y,r=O(),y0=[];function a(t=O(),i=J,e=0){var s;return"number"==typeof i&&(i=O(i)),"number"==typeof t&&(t=O(t%(s=y0[e].size.x/i.x|0)*i.x,(t/s|0)*i.y)),new m0(t,i,e)}class m0{constructor(t=O(),i=J,e=0){this.pos=t,this.size=i,this.textureIndex=e}offset(t){return new m0(this.pos.add(t),this.size,this.textureIndex)}frame(t){return this.offset(O(t*this.size.x,0))}getTextureInfo(){return y0[this.textureIndex]}}class f0{constructor(t){this.image=t,this.size=O(t.width,t.height),this.fixBleedSize=O(_).divide(this.size)}}function v0(t){return new e((t.x-r.x/2+.5)/u+l.x,(t.y-r.y/2+.5)/-u+l.y)}function g0(t){return new e((t.x-l.x)*u+r.x/2-.5,(t.y-l.y)*-u+r.y/2-.5)}function w0(t,i=O(1),r,o=new j,e=0,s,h=new j(0,0,0,0),a,n,l){let c=r&&r.getTextureInfo();var[t,i,e,s,n,l,d=p]=[t,i,e,s,t=>{var i,e,s,h;c?(i=r.pos.x+_,e=r.pos.y+_,s=r.size.x-2*_,h=r.size.y-2*_,t.globalAlpha=o.a,t.drawImage(c.image,i,e,s,h,-.5,-.5,1,1),t.globalAlpha=1):(t.fillStyle=o,t.fillRect(-.5,-.5,1,1))},n,l];l||(t=g0(t),i=i.scale(u)),d.save(),d.translate(t.x+.5,t.y+.5),d.rotate(e),d.scale(s?-i.x:i.x,i.y),n(d),d.restore()}function x0(t,i,e,s,h,r,o){w0(t,i,void 0,e,s,!1,void 0,0,r,o)}function S0(t,i,e){(e=e||p).globalCompositeOperation=t?"lighter":"source-over"}function b0(t,i=0){return h[i]&&!!(1&h[i][t])}function o(t,i=0){return h[i]&&!!(2&h[i][t])}function k0(t,i=0){return h[i]&&!!(4&h[i][t])}let z0=b0,T0=o,C0=k0,O0=O(),j0=O(),A0=0,M0=!1;let h=[[]];function R0(){I0||document.hasFocus()||(h=[[]]),O0=v0(j0)}function B0(){for(var t of h)for(var i in t)t[i]&=1;A0=0}function E0(t){return n0?"KeyW"==t?"ArrowUp":"KeyS"==t?"ArrowDown":"KeyA"==t?"ArrowLeft":"KeyD"==t?"ArrowRight":t:t}function D0(t){var i;return c?(i=c.getBoundingClientRect(),O(c.width,c.height).multiply(O(I(t.x,i.left,i.right),I(t.y,i.top,i.bottom)))):O()}onkeydown=t=>{t.repeat||(M0=!1,h[0][t.code]=3,n0&&(h[0][E0(t.code)]=3))},onkeyup=t=>{h[0][t.code]=4,n0&&(h[0][E0(t.code)]=4)},onmousedown=t=>{M0=!1,h[0][t.button]=3,j0=D0(t),t.button&&t.preventDefault()},onmouseup=t=>h[0][t.button]=2&h[0][t.button]|4,onmousemove=t=>j0=D0(t),onwheel=t=>A0=t.ctrlKey?0:Z(t.deltaY),oncontextmenu=t=>!1;let I0=void 0!==window.ontouchstart;if(I0){let s;onmousedown=onmouseup=()=>0,ontouchstart=ontouchmove=ontouchend=t=>{c0&&m&&"running"!=m.state&&F0([P0(0)]);var i,e=t.touches.length;return e?(i=O(t.touches[0].clientX,t.touches[0].clientY),j0=D0(i),s?M0=!1:h[0][0]=3):s&&(h[0][0]=2&h[0][0]|4),s=e,document.hasFocus()&&t.preventDefault(),!0}}class g{constructor(t,i=u0,e=p0){c0&&(this.range=i,this.taper=e,this.randomness=0,t)&&(this.randomness=t[1]||0,t[1]=0,this.sampleChannels=[P0(...t)],this.sampleRate=L0)}play(i,e=1,s=1,h=1,r=!1){if(c0&&this.sampleChannels){let t;if(i){var o=this.range;if(o){var a=l.distanceSquared(i);if(o*o<a)return;e*=I(a**.5,o,o*this.taper)}t=2*g0(i).x/c.width-1}a=s+s*this.randomness*h*Q(-1,1);return this.source=F0(this.sampleChannels,e,a,t,r,this.sampleRate)}}stop(){this.source&&this.source.stop(),this.source=void 0}getSource(){return this.source}playNote(t,i,e){return this.play(i,e,2**(t/12),0)}playNotePure(t,i,e){F0(this.sampleChannels,e,2**(t/12),i,!1,this.sampleRate)}getDuration(){return this.sampleChannels&&this.sampleChannels[0].length/this.sampleRate}isLoading(){return!this.sampleChannels}}(class extends g{});(class extends g{});let m=new AudioContext,W0=!1;function F0(i,s=1,h=1,r=0,o=!1,a=L0){if(c0){var n=W0;if(!(W0="running"!=m.state)||(m.resume(),!n)){let e=m.createBuffer(i.length,i[0].length,a),t=m.createBufferSource();i.forEach((t,i)=>e.getChannelData(i).set(t)),t.buffer=e,t.playbackRate.value=h,t.loop=o;n=m.createGain();return n.gain.value=d0*s,n.connect(m.destination),t.connect(new StereoPannerNode(m,{pan:U(r,-1,1)})).connect(n),t.start(),t}}}let L0=44100;function P0(t=1,i=.05,e=220,s=0,h=0,r=.1,o=0,W=1,a=0,n=0,l=0,c=0,d=0,F=0,u=0,L=0,p=0,y=1,m=0,f=0,v=0){let g=2*q,w=L0,P=a*=500*g/w/w,x=e*=Q(1+i,1-i)*g/w,S=[],b=0,N=0,k=0,z=1,G=0,V=0,T=0,C,O,j=g*H(v)*2/w,A=Math.cos(j),M=Math.sin(j)/2/2,R=1+M,X=-2*A/R,K=(1-M)/R,B=(1+Z(v)*A)/2/R,Y=-(Z(v)+A)/R,J=B,E=0,D=0,I=0,_=0;for(s=s*w+9,m*=w,h*=w,r*=w,p*=w,n*=500*g/w**3,u*=g/w,l*=g/w,c*=w,d=d*w|0,t*=d0,O=s+m+h+r+p|0;k<O;S[k++]=T*t)++V%(100*L|0)||(T=o?1<o?2<o?3<o?Math.sin(b**3):U(Math.tan(b),1,-1):1-(2*b/g%2+2)%2:1-4*H(Math.round(b/g)-b/g):Math.sin(b),T=(d?1-f+f*Math.sin(g*k/d):1)*Z(T)*H(T)**W*(k<s?k/s:k<s+m?1-(k-s)/m*(1-y):k<s+m+h?y:k<O-p?(O-k-p)/r*y:0),T=p?T/2+(p>k?0:(k<O-p?1:(O-k)/p)*S[k-p|0]/2/t):T,v&&(T=_=J*E+Y*(E=D)+B*(D=T)-K*I-X*(I=_))),C=(e+=a+=n)*Math.cos(u*N++),b+=C+C*F*Math.sin(k**5),z&&++z>c&&(e+=l,x+=l,z=0),!d||++G%d||(e=x,a=P,z=z||1);return S}let N0=[],f=O();function G0(t,i=0){t.arrayCheck(f)&&(N0[(0|t.y)*f.x+t.x|0]=i)}function V0(t,i=O(),e){var s=E(t.x-i.x/2|0,0),h=E(t.y-i.y/2|0,0),r=n(t.x+i.x/2,f.x),o=n(t.y+i.y/2,f.y);for(let i=h;i<o;++i)for(let t=s;t<r;++t){var a=N0[i*f.x+t];if(a&&(!e||e.collideWithTile(a,O(t,i))))return!0}}class X0{constructor(t,i=0,e=!1,s=new j){this.tile=t,this.direction=i,this.mirror=e,this.color=s}clear(){this.tile=this.direction=0,this.mirror=!1,this.color=new j}}class K0 extends t{constructor(t,i=f,e=a(),s=O(1),h=0){super(t,i,e,0,void 0,h),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.scale=s,this.isOverlay=!1,this.data=[];for(let t=this.size.area();t--;)this.data.push(new X0)}setData(t,i,e=!1){t.arrayCheck(this.size)&&(this.data[(0|t.y)*this.size.x+t.x|0]=i,e)&&this.drawTileData(t)}getData(t){return t.arrayCheck(this.size)&&this.data[(0|t.y)*this.size.x+t.x|0]}update(){}render(){var t=g0(this.pos.add(O(0,this.size.y*this.scale.y)));(this.isOverlay?y:p).drawImage(this.canvas,t.x,t.y,u*this.size.x*this.scale.x,u*this.size.y*this.scale.y)}redraw(){this.redrawStart(!0);for(let i=this.size.x;i--;)for(let t=this.size.y;t--;)this.drawTileData(O(i,t),!1);this.redrawEnd()}redrawStart(t=!1){this.savedRenderSettings=[c,p,r,l,u],c=this.canvas,p=this.context,r=this.size.multiply(this.tileInfo.size),l=this.size.scale(.5),u=this.tileInfo.size.x,t&&(c.width=r.x,c.height=r.y),$0()}redrawEnd(){[c,p,r,l,u]=this.savedRenderSettings}drawTileData(t,i=!0){var e=this.tileInfo.size,i=(i&&(i=t.multiply(e),this.context.clearRect(i.x,this.canvas.height-i.y,e.x,-e.y)),this.getData(t));null!=i.tile&&(t=this.pos.add(t).add(O(.5)),e=a(i.tile,e,this.tileInfo.textureIndex),w0(t,O(1),e,i.color,i.direction*q/2,i.mirror))}drawCanvas2D(t,i,e,s,h){var r=this.context;r.save(),t=t.subtract(this.pos).multiply(this.tileInfo.size),i=i.multiply(this.tileInfo.size),r.translate(t.x,this.canvas.height-t.y),r.rotate(e),r.scale(s?-i.x:i.x,i.y),h(r),r.restore()}drawTile(t,i=O(1),e,s=new j,h,r){this.drawCanvas2D(t,i,h,r,t=>{var i=e&&e.getTextureInfo();i?(t.globalAlpha=s.a,t.drawImage(i.image,e.pos.x,e.pos.y,e.size.x,e.size.y,-.5,-.5,1,1),t.globalAlpha=1):(t.fillStyle=s,t.fillRect(-.5,-.5,1,1))})}drawRect(t,i,e,s){this.drawTile(t,i,void 0,e,s)}}class Y0 extends t{constructor(t,i,e=0,s=0,h=100,r=q,o,a=new j,n=new j,l=new j(1,1,1,0),c=new j(1,1,1,0),d=.5,u=.1,p=1,y=.1,m=.05,f=1,v=1,g=0,w=q,x=.1,S=.2,b=!1,k=!1,z=!0,T=k?1e9:0,C=!1){super(t,O(),o,i,void 0,T),this.emitSize=e,this.emitTime=s,this.emitRate=h,this.emitConeAngle=r,this.colorStartA=a,this.colorStartB=n,this.colorEndA=l,this.colorEndB=c,this.randomColorLinear=z,this.particleTime=d,this.sizeStart=u,this.sizeEnd=p,this.speed=y,this.angleSpeed=m,this.damping=f,this.angleDamping=v,this.gravityScale=g,this.particleConeAngle=w,this.fadeRate=x,this.randomness=S,this.collideTiles=b,this.additive=k,this.localSpace=C,this.trailScale=0,this.particleDestroyCallback=void 0,this.particleCreateCallback=void 0,this.emitTimeBuffer=0}update(){if(this.parent&&super.update(),!this.emitTime||this.getAliveTime()<=this.emitTime){if(this.emitRate*a0){var t=1/this.emitRate/a0;for(this.emitTimeBuffer+=_0;0<this.emitTimeBuffer;this.emitTimeBuffer-=t)this.emitParticle()}}else this.destroy()}emitParticle(){let t="number"==typeof this.emitSize?N(this.emitSize/2):O(Q(-.5,.5),Q(-.5,.5)).multiply(this.emitSize).rotate(this.angle),i=Q(this.particleConeAngle,-this.particleConeAngle),e=(this.localSpace||(t=this.pos.add(t),i+=this.angle),this.randomness);var s=t=>t+t*Q(e,-e),h=s(this.particleTime),r=s(this.sizeStart),o=s(this.sizeEnd),a=Q(this.speed)**.4,s=s(this.angleSpeed)*(2*L(2)-1),n=Q(this.emitConeAngle,-this.emitConeAngle),l=G(this.colorStartA,this.colorStartB,this.randomColorLinear),c=G(this.colorEndA,this.colorEndB,this.randomColorLinear),n=this.localSpace?n:this.angle+n,l=new J0(t,this.tileInfo,i,l,c,h,r,o,this.fadeRate,this.additive,this.trailScale,this.localSpace&&this,this.particleDestroyCallback);return l.velocity=O().setAngle(n,a),l.angleVelocity=s,l.fadeRate=this.fadeRate,l.damping=this.damping,l.angleDamping=this.angleDamping,l.elasticity=this.elasticity,l.friction=this.friction,l.gravityScale=this.gravityScale,l.collideTiles=this.collideTiles,l.renderOrder=this.renderOrder,l.mirror=!!L(2),this.particleCreateCallback&&this.particleCreateCallback(l),l}render(){}}class J0 extends t{constructor(t,i,e,s,h,r,o,a,n,l,c,d,u){super(t,O(),i,e),this.colorStart=s,this.colorEndDelta=h.subtract(s),this.lifeTime=r,this.sizeStart=o,this.sizeEndDelta=a-o,this.fadeRate=n,this.additive=l,this.trailScale=c,this.localSpaceEmitter=d,this.destroyCallback=u,this.clampVelocity=!1}render(){var t=n((w-this.spawnTime)/this.lifeTime,1),i=O(this.sizeStart+t*this.sizeEndDelta),e=this.fadeRate/2,e=new j(this.colorStart.r+t*this.colorEndDelta.r,this.colorStart.g+t*this.colorEndDelta.g,this.colorStart.b+t*this.colorEndDelta.b,(this.colorStart.a+t*this.colorEndDelta.a)*(t<e?t/e:1-e<t?(1-t)/e:1));this.additive&&S0(!0);let s=this.pos,h=this.angle;if(this.localSpaceEmitter&&(s=this.localSpaceEmitter.pos.add(s.rotate(-this.localSpaceEmitter.angle)),h+=this.localSpaceEmitter.angle),this.trailScale){let t=this.velocity;var r,o=(t=this.localSpaceEmitter?t.rotate(-this.localSpaceEmitter.angle):t).length();o&&(r=t.scale(1/o),o=o*this.trailScale,i.y=E(i.x,o),h=r.angle(),w0(s.add(r.multiply(O(0,-o/2))),i,this.tileInfo,e,h,this.mirror))}else w0(s,i,this.tileInfo,e,h,this.mirror);this.additive&&S0(),1==t&&(this.color=e,this.size=i,this.destroyCallback&&this.destroyCallback(this),this.destroyed=1)}}let _0=1/60,v=[],q0=[],H0=0,w=0,U0=0,Q0=!1;let Z0=0,x=0;function $0(){r=O(c.width,c.height),p.imageSmoothingEnabled=!Y}class t6 extends t{static count=0;constructor(t){super(t,O(1),b.coin),this.yOrig=t.y,this.index=t6.count,this.setCollision(!0,!1,!1),t6.count++}update(t){this.pos.y=this.yOrig+Math.sin(this.index/5+15*w)/15}collideWithObject(t){var i;return t!=A||1<this.pos.distanceSquared(A.pos)||(++s6,F6.play(this.pos),this.destroy(),t=this.pos,i=.1,new Y0(t,0,.5,.1,100*i,q/2,void 0,s(1,1,1),s(1,1,1),s(0,1,1,0),s(1,1,1,0),.5,.1,.4,.01,.05,.9,1,-.2,q,.05,0,!1,!0,!0,5),Y6(this.pos,new j(.5,1,1),L(5,10),.05,.1,.05),t6.count--,0==t6.count&&(st=st||new e6(et))),!1}}var S={white:new j(1,1,1),grey:new j(.5,.5,.5)};class i6 extends t{constructor(t){super(t,O(8,8),b.concreteBlock),this.setCollision(!0,!1,!0),this.elasticity=.2}collideWithObject(t){return t instanceof zt&&(t.destroy(),A=null,K6(t.pos,1e3),L6.play(this.pos),setTimeout(()=>{P6.play(t.pos,2,.8),P6.play(t.pos,2,.6)},200),N6.play(t.pos,5)),!1}}class e6 extends t{constructor(t){super(t,O(2,2),b.exit),this.setCollision(!0,!1,!0),V6.play(this.pos),Y6(this.pos,new j(1,1,1),25,.05,.01,.05),Y6(this.pos,new j(1,1,1),25,.1,.1,.05)}collideWithObject(t){return t instanceof zt&&t.pos.distanceSquared(this.pos)<2&&C6(),!1}collideWithTile(){return.1<H(this.velocity.y)&&N6.play(this.pos,.1+H(this.velocity.y/2)),!0}}let b,s6,k,h6,r6,o6,a6,n6,z={PLAY:0,GAME_OVER:1,WON:2},l6=z.PLAY,c6=180,d6=100,u6=5e3,T=void 0,p6=void 0,y6;var m6,f6,v6,g6,w6,x6,S6=!1;let b6=0,k6=O();function z6(){b={coin:a(0),blob:a(1),playerWalk:a(2),playerJump:a(4),exit:a(6),concreteBlock:a(9)},l0=!0,S6=!1,h6=s6=k=0,o0=-.01,l6=z.PLAY,p6=3,y6=7,ot(k),xt(k),B.destroyAllLive()}function T6(t){switch(T=void 0,l6=t){case z.GAME_OVER:ht=w,ot(14),xt(22),new i6(O(M.x/2,4*M.y)),S6=Ct(s6);break;case z.WON:k=13,C6(),xt(k=31),gt=!0,ht=w,M6("生命奖励 ",p6*u6,2)}}function C6(){0<h6||(kt(),G6.play(A.pos,3),A.jumpToNextLevel(),b6=10,O6(),gt=!1,M6("时间奖励 ",Math.ceil((r6+1)*d6)),h6=c6)}function O6(t=1){t/=2,k6=k6.add(N(t,t/2))}function j6(t){T="",l6==z.WON?xt(k):14==t?T6(z.WON):(ot(k=D(t,jt.length)),xt(k),gt=!0)}function C(t,i,e,s=1,h="SimHei, monospace",r="#fff",o="#000"){var a=U(d.width/40,10,20),s=(a*=s)/10,h=(y.textAlign="center",y.textBaseline="middle",y.font=a+"px "+h,a/10);y.fillStyle=o,y.lineWidth=s,y.strokeStyle=o,y.strokeText(t,i+h,e+h),y.fillText(t,i+h,e+h),y.fillStyle=r,y.lineWidth=s,y.strokeStyle=o,y.strokeText(t,i,e),y.fillText(t,i,e)}function A6(t){let i="分数 "+s6;Tt()&&(i+="          最高分 "+Tt()),C(i,d.width/2,t),S6&&1<2*w%2&&C("新最高分",d.width/2,3*t,2),i}function M6(t,i,e=1){o6=t,a6=i,n6=w+e}function R6(){if(5<w-n6&&(o6=void 0),!(w-n6<0||a6<=0||h6%2!=0)){if(F6.play(),!(a6>d6))return s6+=a6,a6=0,1;s6+=d6,a6-=d6}}function B6(t=0){var i,e=t-Z0;if(Z0=t,U0+=e/1e3,x=n(x+=Q0?0:e,50),E6(),Q0)R0(),v6(),B0();else{let t=0;for(x<0&&-9<x&&(t=x,x=0);0<=x;x-=1e3/60){w=H0++/60,R0(),f6(),s=void 0,q0=v.filter(t=>t.collideSolidObjects);for(var s of v)s.parent||function t(i){if(!i.destroyed){i.update();for(var e of i.children)t(e)}}(s);v=v.filter(t=>!t.destroyed),v6(),B0()}x+=t}$0(),g6(),v.sort((t,i)=>t.renderOrder-i.renderOrder);for(i of v)i.destroyed||i.render();w6(),requestAnimationFrame(B6)}function E6(){K.x?(c.width=K.x,c.height=K.y,innerWidth,innerHeight,c.width,c.height):(c.width=n(innerWidth,i.x),c.height=n(innerHeight,i.y)),d.width=c.width,d.height=c.height,r=O(c.width,c.height)}m6=z6,f6=function(){var t,i=w-wt;if(!(i<0)){var e=Math.floor(i*bt)%lt;if(e!=St&&(A?.onNewBeat(e),St=e,gt)){e%(lt/4)==0&&kt(0==e?2.5:1);for(var s of nt[0]){var h=R[s[0]],r=s[1],s=s[e%(s.length-2)+2];"number"!=typeof s||isNaN(s)||h.playNotePure(s-12,r,vt)}}}switch(l6){case z.WON:R6()&&(S6=Ct(s6)),B.spawnRandom(),l=l.lerp(A.pos,.05),7<w-ht&&(T||V6.play(),T="[点击开始新游戏]",H6())&&z6();break;case z.GAME_OVER:5<w-ht&&(T||V6.play(),T="[点击开始新游戏]",H6())&&z6(),u=n(c.width/M.x,c.height/M.y),l=M.scale(.5);break;case z.PLAY:0<h6?(t=(c6-h6)/c6,0<k&&R6(),l.y+=.035*M.y*t,u*=.992,y6*=.992,l=l.lerp(A.pos,t/10),A.drawSize=A.drawSize.scale(1.02),--h6<=0&&(0==k&&(s6=0),o6=void 0,j6(++k))):((r6=A?45-(w-ht):r6)<=-1&&0!=k&&A.kill(!0),r6=E(r6,0),0==k?(T=I0?"[点击跳跃]":"[空格键跳跃]",r6=0):T="第 "+k+" 室，共13室",u=n(c.width/M.x,c.height/M.y),l=M.scale(.5))}At||(o("KeyG")&&(p6=1,A?.kill()),o("KeyW")&&(k=13,C6()),o("KeyK")&&A.kill(),o("KeyN")&&C6(),o("KeyT")&&(ht=w-45-1)),At&&l6!=z.WON||(o("PageUp")&&j6(++k),o("PageDown")&&j6(--k)),k6=k6.scale(-.9),l=l.add(k6)},v6=function(){},g6=function(){},w6=function(){var t,i=.5*d.height/M.y;switch(l6){case z.PLAY:if(0==k){Tt()&&C("最高分 "+Tt(),.5*d.width,i);var e=g0(O(M.x/2,.75*M.y)),e=(C("跳跃姬",e.x,e.y,y6/3,"serif","#e0cc5b"),g0(O(M.x/2,.45*M.y))),s=g0(O(M.x/2,.4*M.y)),h="#e0cc5b";C("进入 LUMIN跳跃游戏",e.x,e.y,y6/6,void 0,h),C("13个有趣的房间",s.x,s.y,y6/6,void 0,h)}else{C("生命 "+p6,+d.width/4,i),C("分数 "+s6,2*d.width/4,i);let t="#fff";r6<=10&&h6<=0&&4*w%2<1&&(t="#f00"),C("时间 "+Math.ceil(r6),3*d.width/4,i,void 0,void 0,t),o6&&C(o6+a6,d.width/2,3*i,.7)}break;case z.GAME_OVER:A6(i),C("游戏结束",d.width/2,.15*d.height,5),C("小心13的危险！",d.width/2,.3*d.height,2),C("第 "+k+" 室，共13室",d.width/2,d.height-3*i,1);break;case z.WON:A6(i),o6&&-1<w-n6&&!S6&&C(o6+a6,d.width/2,3*i,.7),C("自由飞翔！",d.width/2,.85*d.height,3),I0||C("[上/下页键切换音乐。第 "+k+" 室]",2*d.width/4,d.height-3*i)}T&&C(T,.5*d.width,d.height-i),p.drawImage(d,0,0),A&&A.renderTop(),0<b6&&(t=n(t=.2+--b6/10,1),x0(r.scale(.5),r,new j(1,1,1,t),0,0,!0))},x6=["tiles.png"],document.body.style.cssText="margin:0;overflow:hidden;background:#000;touch-action:none;user-select:none;-webkit-user-select:none;-webkit-touch-callout:none",document.body.appendChild(c=document.createElement("canvas")),p=c.getContext("2d"),document.body.appendChild(d=document.createElement("canvas")),y=d.getContext("2d"),E6(),x6=x6.map((e,s)=>new Promise(t=>{let i=new Image;i.onerror=i.onload=()=>{y0[s]=new f0(i),t()},i.src=e})),Promise.all(x6).then(()=>{m6(),B6()});let D6=new g([.4,.2,250,.04,,.04,,,1,,,,,3]),I6=new g([.4,.2,150,.05,,.05,,,-1,,,,,4,,,,,.02]),W6=new g([.3,.1,50,.005,,.01,4,,,,,,,,10,,,.5]),F6=new g([1.04,0,2e3,,.02,.01,,2.2,,,50,,,,,,,.5,.01]),L6=new g([2,.1,523.2511,.13,,.12,4,1.23,-46.2,,-100,.01,.01,,114,,.21,.85,.05]),P6=new g([1,.2,600,.05,.13,.13,2,.5,50,,10,.11,.02,,20,.12,,,,.5,5e3]),N6=new g([4,.5,802,.1,.05,.5,4,4.59,,,,,,1.2,,2,.21,.31,.1,.1]),G6=new g([.7,,118,.03,.28,.41,1,.2,-6,-162,-109,.05,.1,,,,,.51,.27,.06,496]),V6=new g([,,336,.03,.21,.3,,2.1,,-22,,,.1,.4,,,,.77,.12]),X6=new g([.2,.1,1e3,,.2,2,,0,-.1,,,,,.3,,,,,.15]);function K6(t,i){Y6(t,X(0,1,.5),i,.2,0).gravityScale=1.2}function Y6(t,i=X(),e=50,s=.2,h=.3,r=.1){var o=i.lerp(X(),.5),a=i.copy(),t=(a.a=0,new Y0(t,0,1,.1,e/.1,q,void 0,i,o,a,a,3,s,s,r/10,.05,1,.95,.5,q,0,.1,!0));return t.elasticity=h,t}function J6(t,i=1){new Y0(t,0,.2*i,.3,Q(50,150)*i,q,b.blob,s(1,1,1),s(.5,.5,.5),s(1,1,1),s(1,1,1),.3,.3,.05,.001,.1,.9,.9,-.1,q,.5,.5,!1,!1,!0,0)}function _6(){return b0("Space")||b0(0,0+1)||z0(0)}function q6(){return o("Space")||o(0,0+1)||T0(0)}function H6(){return k0("Space")||((t,i=0)=>k0(t,i+1))(0)||C0(0)}N6.range=0;X6.range=0;let U6=1,Q6=2,A,Z6,$6,tt,it,et=void 0,st=void 0,M,ht=-1,rt=(t,i,e)=>t.arrayCheck(f)&&($6[i][(0|t.y)*f.x+t.x|0]=e);function ot(t){t6.count=0,et=void 0,st=void 0,Z6=void 0,$6=void 0,tt=void 0,it=void 0;var i;for(i of v)i.parent||i.destroy();v=v.filter(t=>!t.destroyed);var t=jt[t],s=((t=>{f=t;for(let t=(N0=[]).length=f.area();t--;)N0[t]=0})(M=O(t.w,t.h)),$6=[],tt=[],Z6=O(1,M.y),t.d),h=new K0(O(),M,a(0,16));h.renderOrder=-1e3,tt[0]=h,$6[0]=[];for(let i=M.x;i--;)for(let t=M.y;t--;){var r=O(i,M.y-1-t);let e=s[t*M.x+i];var o=r.add(O(.5));switch(e){case 1:new t6(o);continue;case 3:Z6=o;continue;case 7:et=o;continue;case 8:rt(r,0,e),G0(r,Q6),h.setData(r,new X0(e-1));break;case 9:case 6:rt(r,0,e),G0(r,U6);let t=0,i=0;6==e&&(t=L(4),i=L(2)),h.setData(r,new X0(e-1,t,!!i))}}h.redraw(),it=new Ot,at(),ht=w}function at(){A&&A.destroy(),A=new zt(Z6)}var nt=[[]],lt=0,ct=[[1,0,43,.01,.5,.5,,.5],[20,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02],[1,0,77,,.3,.7,2,.41,,,,,,,,.06],[2,,400,,,.5,2,.1,,1,,,,2.5,,.5,,.5,.1]],R=[],dt=[R,nt,[1],80];function ut(t,i,e,s,h){var r,o=[];o.push(t),o.push(i);for(r of h)for(var a of s)o.push(e+a+r);return o}function pt(t){return"number"==typeof t&&!isNaN(t)}let yt=[0,2,4,7,9,12,14,16,19,21,24];function mt(s,i=5,e=5,h,r){s=s.slice();for(let t=0;t<i;t++){var o=h.int(s.length-1),a=o+1,n=s[o];s[o]=s[a],s[a]=n}var l,c,d=[];for(let t=0;t<e;t++){let t,i;for(;t=h.int(s.length),!pt(i=s[t]-r)||~d.indexOf(t););d.push(t);let e=yt.indexOf(i);0==e?e++:e==yt.length-1?e--:e+=h.float()<.5?1:-1,s[t]=yt[e]+r,l=pt(s[t]),c="[Like, some error]",At||l||console.error("ASSERT FAILED: ",c)}return s}function ft(t){let i=new V(376176+9999*(t+1));console.log("musicTempo",bt=i.float(4,5)),R=[];for(var e of ct)R.push(e.slice());for(let t=0;t<R.length;t++){var s=R[t],h=(r=h=void 0,s),r=i;for(let t=4;t<h.length;t++)"number"==typeof h[t]&&(h[t]=r.float(.5*h[t],1.5*h[t]))}for(var o in dt[0]=R)R[o]=new g(R[o]);nt=[[],[]];var a=[0,5,7],n=[0,0];for(let t=0;t<3;t++){var l=a[i.int(3)];n.push(l,l)}var c=[-2,-1,-1,0,0,0,0,1,1,2];let d=5;var u=mt([1,0,i.int(0,2),i.int(0,2),1,0,i.int(0,2),i.int(0,2)],10,0,i),p=[];for(let t=0;t<2*n.length-1;t++)u[t%u.length]?(d=U(d+=c[i.int(10)],0,yt.length-1),p.push(24+yt[d])):p.push(void 0);p.push(void 0);var t=mt(p,5,3,i,24),y=mt(t,5,3,i,24),m=t.slice();m.reverse();let f=[3,0];f=(f=(f=(f=f.concat(p)).concat(t)).concat(m)).concat(y),nt[0].push(f);var t=()=>i.float()<.5?void 0:0,m=[0,t(),t(),t(),0,t(),t(),12],y=ut(0,-.1,24,m,n),m=(nt[0].push(y),ut(0,.1,31,m,n)),m=(nt[0].push(m),lt=y.length-2,Array(n.length).fill(0)),y=Array(n.length/2).fill(0),v=[0,void 0,t(),void 0,0,void 0,t(),void 0],t=[void 0,t(),0,t(),void 0,t(),0,t(),void 0,t(),0,t(),void 0,void 0,0,0];nt[0].push(ut(1,0,7,v,m)),nt[0].push(ut(2,.1,7,t,y))}var vt=.2,gt=!0,wt=0;function xt(t){ft(t),wt=w,St=-1}let St=-1,bt=5;function kt(t=2){R[4].playNotePure(12,0,vt*t)}class zt extends t{constructor(t){super(t,O(.6,.95),a()),this.hitWallTime=w,this.jumpTime=-1,this.drawSize=O(1.3),this.renderOrder=10,this.walkCyclePercent=0,this.alive=!0,this.setCollision(!0,!0),this.lastBlockXTime=w,this.friction=1,this.walkFrame=0,this.forceJumpY=.3,this.forceWallJumpX=.15,this.maxXSpeed=.2,this.xAccelGround=.006,this.xSpeed=0,this.jumpBreaked=!1,this.jumpingOffScreen=!1,this.doFlap=!1,this.groundTime=-1}jump(t=!1){this.doFlap=!1,this.jumpTime=w,t?(this.velocity.x=Z(this.velocity.x)*this.forceWallJumpX,this.velocity.y=this.forceJumpY/1.5):(P6.play(this.pos,Q(.5,1)),this.velocity.y=this.forceJumpY),D6.play(this.pos),this.hitWallTime=w-1;J6(this.pos.add(O(this.mirror?.45:-.45,-.45)),3)}jumpToNextLevel(){this.setCollision(!1,!1,!1);var t=(M.y-this.pos.y)/M.y;this.forceJumpY=.15+t/4,this.velocity.x/=2,this.jump(),this.jumpingOffScreen=!0,this.gravityScale=.1,this.angleDamping=.9,this.damping=.99,this.doFlap=!1}update(){if(l6!=z.GAME_OVER){if(!this.alive)return this.walkFrame=0,this.velocity.x*=.9,this.angle=.1*q+.9*this.angle,super.update();var t;this.angle=this.velocity.x/2,this.jumpingOffScreen?A.angle/=2:(this.gravityScale=1,this.jumpButtonDown=_6(),this.jumpButtonPressed=q6(),this.jumpButtonReleased=H6(),this.groundObject?(this.jumpTime=-1,this.jumpBreaked=!1,this.groundTime=w,this.doFlap=!1,this.velocity.y=0,this.jumpButtonPressed&&this.jump(),this.velocity.x+=this.mirror?-this.xAccelGround:this.xAccelGround,t=this.velocity.length(),this.walkCyclePercent+=.5*t,this.walkCyclePercent=.01<t?D(this.walkCyclePercent):0,this.walkFrame=2*this.walkCyclePercent|0,this.walkFrame!=this.walkFrameLastFrame&&1==this.walkFrame&&(W6.play(this.pos,Q(.5),Q(.5,1)),J6(this.pos.add(O(0,-.45)),Q(.2))),this.walkFrameLastFrame=this.walkFrame,!this.onGroundLastFrame&&this.velocityLastFrame.y<-.1&&(t=5*H(this.velocityLastFrame.y),I6.play(this.pos,t),J6(this.pos.add(O(0,-.5))))):(-1==this.jumpTime&&(w-this.groundTime<.1?this.jumpButtonPressed&&this.jump():this.jumpTime=w-.1),0<this.jumpTime&&(w-this.hitWallTime<.1&&this.jumpButtonDown&&this.jump(!0),t=w-this.jumpTime,this.jumpBreaked?.1<H(this.velocity.x)&&(this.velocity.x*=.96):this.jumpButtonReleased&&(I6.play(this.pos),0<this.velocity.y&&(this.velocity.y=0),this.gravityScale=1.5,this.jumpBreaked=!0),.25<t?(this.jumpButtonPressed||this.doFlap)&&(P6.play(this.pos,Q(.5,1)),this.jumpTime=w,this.jumpBreaked=!1,this.velocity.y=.12,this.velocity.x+=this.mirror?-.2:.2,this.gravityScale=1,I6.play(this.pos),J6(this.pos),this.doFlap=!1):.1<t&&this.jumpButtonPressed&&(this.doFlap=!0))),this.velocity.x=U(this.velocity.x,-this.maxXSpeed,this.maxXSpeed),this.xSpeed=this.velocity.x,this.onGroundLastFrame=this.groundObject,this.jumpButtonDownLastFrame=this.jumpButtonDown,this.velocityLastFrame=this.velocity.copy()),super.update()}}render(){}onNewBeat(t){this.jumpingOffScreen&&t%2==0&&(this.doFlap=!0)}renderTop(){let t=this.pos;var i;t=t.add(O(0,(this.drawSize.y-this.size.y)/6)),this.jumpingOffScreen?this.doFlap&&(this.jumpBreaked?(this.tileInfo=b.playerWalk.frame(0),this.jumpBreaked=!1):(this.tileInfo=b.playerJump,i=Q(.1,.25),A.applyForce(O(A.mirror?-i:i,i/2)),A.angleVelocity+=Q(-.1,.1),P6.play(this.pos,2*i,.9+i),this.jumpBreaked=!0),this.doFlap=!1):this.alive?this.groundObject?(this.tileInfo=b.playerWalk.frame(this.walkFrame),t=t.add(O(0,.1*Math.sin(this.walkCyclePercent*q)))):this.jumpBreaked?this.tileInfo=b.playerWalk.frame(0):this.tileInfo=b.playerJump:this.tileInfo=b.playerJump,l6==z.GAME_OVER&&(this.tileInfo=b.playerWalk.frame(0)),w0(t,this.drawSize,this.tileInfo,this.color,this.angle,this.mirror)}kill(t=!1){this.alive&&(L6.play(this.pos),K6(this.pos,100),setTimeout(()=>P6.play(this.pos,2,.8),200),this.alive=!1,this.size=this.size.scale(.5),this.angleDamping=.9,this.renderOrder=-1,this.setCollision(!1,!1),p6--,setTimeout(()=>{0==p6?T6(z.GAME_OVER):(at(),t&&(ht=w))},1e3))}onBlockedX(){w-this.lastBlockXTime<.1||(this.lastBlockXTime=w,this.mirror=!this.mirror,this.velocity.x=-this.xSpeed/3,this.hitWallTime=w,I6.play(this.pos),J6(this.pos.add(O(this.mirror?.5:-.5,0))))}collideWithTile(t,i){return t==Q6&&this.kill(!0),!0}}function Tt(){return 0|localStorage.dodo_hs}function Ct(t){return t>Tt()&&(localStorage.dodo_hs=t,!0)}class Ot extends t{constructor(){super(),this.renderOrder=-1e4,this.seed=L(1e9),this.skyColor=s(0,0,.3),this.horizonColor=s(.2,0,0)}render(){var t=p.createLinearGradient(0,0,0,c.height),i=(t.addColorStop(0,this.skyColor),t.addColorStop(1,this.horizonColor),p.save(),p.fillStyle=t,p.fillRect(0,0,c.width,c.height),p.globalCompositeOperation="lighter",new V(this.seed));for(let t=100+Math.floor(c.width*c.height/1500);t--;){var e=i.float(.5,2)**2,s=i.float()<.95?i.float(-3,3):i.float(-99,99),h=X(i.float(-.3,.2),i.float(),i.float()),r=c.width+100,o=c.height+100,a=3*e,r=O(D(i.float(r)+w*s-l.x*a,r)-50,D(i.float(o)+w*s*i.float()+l.y*a,o)-50);p.fillStyle=h,p.fillRect(r.x,r.y,e,e)}p.restore()}}let jt=[{w:32,h:20,d:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,3,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,1,1,1,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0]},{w:19,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,6,6,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,9,9,6,0,1,0,6,9,9,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:27,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:30,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,6,6,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,0,6,6,0,0,0,3,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,1,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:21,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,3,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,0,0,0,6,6,0,0,0,0,0,0,6,8,8,8,8,8,8,8,8,8,8,8,8,8,6,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:20,h:17,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,6,6,0,7,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,8,8,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,6,6,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,6,6,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,1,0,6,6,6,6,0,1,0,6,6,6,6,0,1,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,6,6,6,0,0,0,6,6,6,6,0,0,0,6,0,0,0,0,0,0,0,0,0,0,6,8,8,8,6,6,6,6,8,8,8,6,6,6,6,8,8,8,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,9,9,9,6,9,6,6,6,9,9,9,6,9,9,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,6,6,6,9,6,9,6,9,6,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,9,6,6,9,6,6,6,9,9,9,6,9,9,9,6,6,9,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,6,6,6,9,6,9,6,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,9,6,6,6,9,9,9,6,9,6,9,6,9,6,6,6,6,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,0,0,6,6,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,9,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,9,9,9,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,0,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,1,0,9,9,0,0,6,6,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,9,0,0,0,9,9,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,3,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,3,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,6,6,0,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,6,6,0,0,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:31,h:20,d:[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,0,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,6,6,3,0,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,9,9,9,9,9,9,9,9,9,9,6,8,8,8,8,8,8,8,6,9,9,9,9,9,9,9,9,9,9,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]},{w:29,h:18,d:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,8,8,8,8,8,8,8,8,8,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6]}],At=!0;class B extends t{static gravity=10;static liveRockets=new Set;static destroyAllLive(){for(var t of B.liveRockets)t.destroy();B.liveRockets=new Set}static spawnRandom(){var t;5<=B.liveRockets.size||(t=B.liveRockets.size/5,Q()*t*20<Math.sin(w)*Math.cos(w/2.123)&&new B)}constructor(){super(O(Q(1.2*c.width),c.height),O(4,20),void 0,0,S.grey,1e5),this.setCollision(!1,!1,!1);var t=c.height/75,i=(B.gravity=c.height/1e4,Q(.8,1.2));this.velocity=O(Q(-1,1),-t*i),this.explodeTime=w+Q(1,2),B.liveRockets.add(this),this.renderOrder=-1e3,this.rocketSize=Q(1,3),X6.play(this.pos,this.rocketSize/10,2*i)}update(){var t,i,e,s,h,r,o,a,n,l,c;this.velocity.y+=B.gravity,this.pos=this.pos.add(this.velocity),this.angle=-this.velocity.angle(),w>this.explodeTime&&(B.liveRockets.delete(this),this.destroy(),t=X(Q(1),1,.5),b6+=4*this.rocketSize,setTimeout(()=>{O6(this.rocketSize-1),N6.play(this.pos,this.rocketSize/3)},1e3/this.rocketSize),i=100*this.rocketSize*Q(.5,1.5),e=2*this.rocketSize*Q(.5,1.5),s=.2*this.rocketSize*Q(.5,1.5),h=Q(.08,.15)*this.rocketSize,r=Q(.1,.5),o=Q(.1,.2),a=Q(.2,.5),l=n=(9+this.rocketSize/3)/10,c=Q(.005,.2),new Y0(v0(this.pos),0,0,.2,i,2*q,void 0,S.white,t,t,t,e,s,0,h,r,n,1,c,q,o,a,!1,!1,!0,this.renderOrder),new Y0(v0(this.pos),0,0,.2,i,2*q,void 0,t,S.white,S.black,S.black,e/2,s/5,0,h,r,l,1,c,q,o,a,!1,!1,!0,this.renderOrder).trailScale=Q(5,15),new Y0(v0(this.pos),0,1,.1,200,2*q,void 0,S.white,S.white,S.white,S.white,.25,this.rocketSize,0,.001,.1,.99,1,0,q,.9,.1,!1,!1,!0,this.renderOrder))}render(){x0(v0(this.pos),this.size.scale(.04),this.color,this.angle)}}